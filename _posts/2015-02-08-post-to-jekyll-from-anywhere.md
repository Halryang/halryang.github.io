---
layout: post
date: 2015-02-08 01:26:37
title: 어느 앱에서나 지킬 블로그에 포스팅을 간단하게 하자
tags: automation blogging jekyll Keyboard-Maestro
---
지금 저는 [nvALT][0125-0001], [Byword][0125-0002], [Sublime Text 3][0125-0003], [Desk](http://desk.pm), [Scrivener][0125-0004] 를 사용하고 있고 그냥 시험삼아 사용해 본 앱들까지하면 많은 OS X용 글쓰기 앱을 사용해봤습니다. 그리고 많은 앱들을 쓰면서 사용하는 앱이 바뀌어도 동일한 사용자 경험을 유지할 수 있으면 좋겠다고 생각했습니다. 글을 쓰고 나서 가장 손이 많이 가는 작업 중의 하나인 Jekyll에 포스팅하는 작업을 간단하게 처리하는 프로그램을 짤 수 있으면 좋겠습니다.

일단 아쉬운대로 제가 할 수 있는 수준의 [Keyboard Maestro][0125-0005] 매크로를 짜봤습니다. 블로그에 글을 올리고 싶으면 어느 글쓰기 앱에서든 사용할 수 있게 적용할 수 있습니다.[^1] 저는 글을 적기 시작하면서 YAML 머리말을 작성하는 것은 글을 쓰기 시작한 시각과 글을 발행하는 시각에 차이가 클 때가 종종 있기에 마지막에 YAML 머리말을 삽입하는 것이 좋았습니다. 이미 작성하던 글과 상관없이 로컬의 지킬 폴더에 "다른 이름으로 저장"하는 것이기에 글의 제목을 미리 적어두고 싶은 경우엔 파일명을 글의 제목으로 저장하고 글쓰기를 시작하셔도 됩니다.

![Save to Jekyll Keyboard Maestro Macro](/images/save-to-jekyll.png)

**매크로의 작동 내용**은 다음과 같습니다.

* 글 제목과 태그를 입력하도록 팝업 창이 뜸
* 위에서 입력한 제목과 글을 토대로 현재 글 최상단에 YAML 머리말 삽입
* 지킬 포스트 파일명[^2]을 무엇으로 할지 입력하는 팝업 창이 뜸
* 입력한 파일명을 바탕으로 미리 지정한 로컬 지킬 포스트 폴더에 md파일 생성

위에 포함된 지킬 파일명 생성 매크로는 전에 제가 쓴 글[^3]에서 보실 수 있습니다. 이것만 제대로 작동해도 로컬에 있는 지킬 폴더에 포스트 파일을 저장하는 과정이 많이 편해집니다. 여기에서 실제로 GitHub Pages에 올린 지킬 사이트에 포스팅을 하려면 git add, commit, push 작업이 남아 있습니다. 이것은 따로 이전에 만들어 둔 Keyboard Maestro Macro를 사용하고 있습니다.

[^1]: 물론 사용하는 앱의 환경에 맞도록 조금 매크로를 수정하거나 매크로에 추가할 것이 생깁니다. Desk의 경우 현재 .md 확장자로 파일을 저장하는 것이 불가능하기에 저는 nvALT와 Byword에서 사용할 수 있도록 매크로를 짜놓았습니다.

[^2]: 지킬에서 포스트 파일명은 "yyyy-mm-dd-file-name" 처럼 날짜가 앞에 들어가는 형식으로 해야만 하고 빈 칸이 들어가면 안 되는데, 글 제목을 입력할 때마다 이것을 고려하기 귀찮으므로 날짜는 자동으로 삽입하고 글 제목에 빈 칸은 저절로 "-"로 치환하도록 설정했습니다.
 
[0125-0001]: http://brettterpstra.com/projects/nvalt/
[0125-0002]: http://bywordapp.com/
[0125-0003]: http://www.sublimetext.com/3
[0125-0004]: https://www.literatureandlatte.com/
[0125-0005]: http://www.keyboardmaestro.com/


[^3]: [지킬 포스팅의 자동화](http://halryang.net/automation-for-jekyll-posting/)